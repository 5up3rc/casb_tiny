#!/usr/bin/perl

use strict;
use warnings;
use YAML::Tiny;
use Data::Dumper;

# Open the config files
my $users_yaml = YAML::Tiny->read('etc/users.yaml');
my $roles_yaml = YAML::Tiny->read('etc/roles.yaml');
my $sites_yaml = YAML::Tiny->read('etc/sites.yaml');

# print ".... USERS ....\n";
# print Dumper($users_yaml);
# print ".... ROLES ....\n";
# print Dumper($roles_yaml);
# print ".... SITES ....\n";
# print Dumper($sites_yaml);

my $authenticated_user='smithj';
my $user_data  = $users_yaml->[0]->{$authenticated_user};

print Dumper($user_data);
my $chosen_role = 'audio_uploads';
my $chosen_site='fakeisp.virt';

my $role_data  = $roles_yaml->[0]->{$chosen_role};
print Dumper($role_data);

my $site_data  = $sites_yaml->[0]->{$chosen_site};
print Dumper($site_data);
